<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<link rel="stylesheet" href="../../css/chiplotle.css" type="text/css"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>

<title>Chiplotle, the HP-GL Python library.</title>
</head>


<DIV id="menuleft">

<h4><a href="../../chapters/about/index.html">What is Chiplotle?</a>
</h4>
<h4>
<a href="../../chapters/authors/index.html">About the authors</a>
</h4>
<h4>
<a href="../../chapters/tutorial/index.html">Tutorial</a>
</h4>
<h4>
<a href="../../chapters/examples/index.html">Examples for the impatient</a>
</h4>
<h4>
<a href="../../chapters/faq/index.html">FAQ</a>
</h4>
<h4>
<a href="../../chapters/hpgl_classes/index.html">HPGL Classes</a>
</h4>


</DIV>

<DIV id="content">
<h1>FAQ</h1>

<!-- ### question ### -->
<p>
<b class="question">Q:</b>
When I send a text file with HPGL commands to my serial port in the following way:
<pre>
   $ stty /dev/ttyUSB0 9600
   $ cat bird.hpgl > /dev/ttyUSB0
</pre>

my plotter starts drawing fine but will eventually just start pausing and drawing random straight lines. What's goind on? Do I have to be concerned with overflowing the plotter's internal RAM?
</p>

<p>
<b class="question">A:</b>
Yes. The plotters buffer will fill up quickly, so you need to be listenning to the plotter for any buffer overflow warnings and errors. This is generally done in one of two ways:
<ol>
<li> Setting up hardware hand-shacking between the plotter and your computer. 
<li> Querying the plotter for its buffer size before sending data to avoid truncation.
</ol>
Your <code>bird.hpgl</code> file is probably quite large. 
Since you are sending the file directly to your serial port, you are overflowing.

This is one of the tasks that <b>Chiplotle</b> manages for you so you don't have to worry about these low level technicalities.   
The easiest way to communicate with a plotter is to run <b>Chiplotle</b> by typing <code>chiplotle</code> from your terminal. 
This will prompt you for a serial port to choose from. Choose the serial port your plotter is connected to. Then choose the plotter type that most closely matches the one you have. If you are not sure, choose the generic 'Plotter'. This will create a <code>plotter</code> instance automatically for you. Once in <b>Chiplotle</b> (you will know by the <code>chiplotle> </code> prompt), send your HPGL file to the plotter via the <code>write( )</code> method, like so:
<pre>
   chiplotle> f = open('bird.hpgl', 'r')
   chiplotle> my_file = f.read( )
   chiplotle> f.close( )
   chiplotle> plotter.write(my_file)  
</pre>

The <code>plotter</code> does the buffer managing for you.
</p>

<p>
If you don't want to work 'on line' and want to run your Python scripts,
instead of running the executable <code>chiplotle</code> you can instantiate your own plotter in your scripts with the correct serial port. e.g.
<pre>
   >>> from chiplotle import *
   >>> from serial import *
   >>> s = Serial('/dev/ttyUSB0')
   >>> p = Plotter(s)
</pre>

then send hpgl commands:

<pre>
   >>> p.write(PA( ))
</pre>
</p>


<!-- ### question ### -->
<hr>
<p>
<b class="question">Q:</b>
Is there a facility in <b>Chiplotle</b> to send over already existing HPGL command files? 
</p>

<p>
<b class="question">A:</b>
HPGL files are plain text files. To print one simply open it, read it, and send the strings to the plotter, like so: </p>
<pre>
   chiplotle> f = open('my_file.hpgl', 'r')
   chiplotle> my_file = f.read( )
   chiplotle> f.close( )
   chiplotle> plotter.write(my_file)  
</pre>
</p>

</DIV>
