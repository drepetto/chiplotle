<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<link rel="stylesheet" href="../../css/chiplotle.css" type="text/css"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>

<title>Chiplotle, the HP-GL Python library.</title>
</head>


<DIV id="menuleft">

<p><a href="../../chapters/about/index.html">What is Chiplotle?</a>
</p>
<p>
<a href="../../chapters/authors/index.html">About the authors</a>
</p>
<p>
<a href="../../chapters/tutorial/index.html">Tutorial</a>
</p>
<p>
<a href="../../chapters/examples/index.html">Examples for the impatient</a>
</p>
<p>
<a href="../../chapters/faq/index.html">FAQ</a>
</p>
<p>
<a href="../../chapters/hpgl_classes/index.html">HPGL Classes</a>
</p>


</DIV>

<DIV id="content">
<h1>Tutorial</h1>

<h2>Chiplotle modes</h2>

There are three main ways of using <b>Chiplotle</b>:

<ul>
<li>Command line: an interactive mode where you type in commands one at a time and the 
plotter executes them immediately</li>
<li>Python script: you create an Python script that generates the desired <b>Chiplotle</b> commands and
sends them to the plotter</li>
<li>HPGL pipeline: you send pre-existing HPGL commands from a file to the plotter using <b>Chiplotle</b> 
as a simple serial interface</li>
</ul>

<h3>Running Chiplotle from the command line</h3>
An easy way to get a feel for <b>Chiplotle</b> is to directly enter some commands via the command line.
<p>
Change into the <b>Chiplotle</b> directory, and start <b>Chiplotle</b> by typing:
<p>
<pre>
./chiplotle
</pre>
<p>
You'll see a listing of the serial ports available on your machine. Choose the one that you
have your plotter plugged into.
<p>
<b>Chiplotle</b> will attempt to communicate with your plotter on that serial port, and if successful,
will print the ID string returned by the plotter. You will then be asked to select a plotter type.
Select the one that most closely matches the plotter ID. If there is no match, you can use the
generic Plotter, although you should be aware that some HPGL commands may not work with your plotter.
<p>
After you've selected a plotter type <b>Chiplotle</b> will print out some basic information about your 
plotter, including its drawing area. Now it's time to plot!
<p>
Let's pick up a pen. In HPGL, the command to pick up a pen is <code>SP</code>, which stands for "select pen".
To learn what parameters you need to pass to a command, look it up in the "HPGL Classes" section
of the <b>Chiplotle</b> documentation. Many commands take one or more parameters; if a command takes
parameters you put them inside a set of <code>()</code> after the command name. <code>SP</code> takes a pen number, and we 
want to select pen number one, so our command is <code>SP(1)</code>. To pass the command to the plotter, you 
use <code>plotter.write( )</code>. So:
<p>
<pre>
chiplotle> plotter.write(SP(1))
</pre>
<p>
Your plotter should pick up pen one. Some common commands, like SP, have shortcuts in chiplotle. So
you can also do:
<p>
<pre>
chiplotle> plotter.selectPen(1)
</pre>
<p>
to select pen number one. 
<p>
Now let's move the pen. To move the pen while it is in the up position, you use <code>PU([x,y])</code>, and to move
the pen while it's down you use <code>PD([x,y])</code>. x and y are the coordinates you want to move the pen to.
If you want to do a <code>PU</code> or <code>PD</code> without moving, just pass a blank set of coordinates.
So to draw a square you might do something like:
<pre>
chiplotle> plotter.selectPen(1)
chiplotle> plotter.write(PU([100,100]))
chiplotle> plotter.write(PD([200,100]))
chiplotle> plotter.write(PD([200,200]))
chiplotle> plotter.write(PD([100,200]))
chiplotle> plotter.write(PD([100,100]))
chiplotle> plotter.write(PU([]))
</pre>
There are shortcuts for <code>PU</code> and <code>PD</code>: 
<pre>
chiplotle> plotter.penUp([100,100])
chiplotle> plotter.penDown([100,100])

</pre>
To replace the pen and have a look at your magnificent square, you select pen zero:
<pre>
chiplotle> plotter.selectPen(0)
</pre>
That's it! Have a look at the HPGL Classes documentation for a complete list of implemented
HPGL commands.

<h3>Running chiplotle from a Python script</h3>

Simple drawings can be done by hand from the command line, but you'll quickly find that it's much
easier to put your commands into a Python script so that you can edit them, rerun them, etc. 
And of course since you're writing in Python, you can use all the features of the language in 
addition to the <b>Chiplotle</b> commands. 
<p>
It's very easy to create a Python script with <b>Chiplotle</b> commands. The first thing you usually need 
to do is import all of the HPGL commands from <b>Chiplotle</b>. So open a new text file and type:
<pre>
from chiplotle import *
</pre>
Next you want your script to run the <b>Chiplotle</b> setup routine and import the plotter definition:
<pre>
from chiplotle.utils.run_chiplotle_UNIX import plotter
</pre>
This lets you select the appropriate serial port and plotter ID, and imports the plotter object
so that you can use the <code>plotter.write( )</code> method as in the command line examples above. Now you can simply
enter a series of chiplote commands:
<pre>
plotter.selectPen(1)
plotter.write(PU([100,100]))
plotter.write(PD([200,100]))
plotter.write(PD([200,200]))
plotter.write(PD([100,200]))
plotter.write(PD([100,100]))
plotter.selectPen(0)
</pre>

and save your script as a .py file (see examples/square.py for an example). To use your new program
just run it as you would any Python script:
<pre>
python square.py
</pre>
Of course this is just a very simple example. See the .py files in the examples folder for some
more elaborate scripts. 

<h3>HPGL pipeline</h3>
If you already have a file containing HPGL commands (from a CNC design package, old
design data, etc), you can use <b>Chiplotle</b> to send those commands to your plotter. Your HPGL
file will be a text file with commands like:
<pre>
SP1;
PU100,100;
PD200,100;
PD200,200;
PD100,100;
PD100,100;
SP0;
</pre>

To plot the file with <b>Chiplotle</b>, first you open the file, then you read its contents, close the file, 
and send the contents to the plotter via the <code>plotter.write( )</code> method:
<pre>
chiplotle> f = open('square.hpgl', 'r')
chiplotle> my_file = f.read( )
chiplotle> f.close( )
chiplotle> plotter.write(my_file)  
</pre>

chiplotle will take care of all buffering and timing issues, so even large HPGL files should plot
reliably. See examples/square.hpgl for a sample HPGL file.

<h2>Creating simple Chiplotle HPGL commands NOT SURE WHERE THESE GO!!!</h2>
<p>
Each HPGL command in Chiplotle is implemented as a Class. Chiplotle HPGL commands can be 
instantiated as you would normally instantiate any other class. Some commands require arguments, 
others dont:

</p>
<pre>
   chiplotle> PD( )
   PD(xy=[])
</pre>
<pre>
   chiplotle> CI(10)
   CI(chordangle=None, radius=10.0)
</pre>
<p>
All Chiplotle HPGL commands have a <code>format</code> attribute. This attribute returns a string 
representation of the HPGL command as sent to the plotter.
</p>
<pre>
   chiplotle> t = PD( )
   chiplotle> t.format
   'PD;'
</pre>


<h2>Moving commands</h2>

<h2>Drawing commands</h2>

<h2>Plotting</h2>


</DIV>
